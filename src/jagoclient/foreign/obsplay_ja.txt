観戦と対局

サーバプロトコルに問題があるため、対局用碁盤と観戦用碁盤の決定に問題がおきる
かも知れないということを承知しておいて下さい。

観戦を始めようとすると、まず最初に観戦碁盤を開きます。つづいて、碁盤の種類他
を知るためにステータスコマンドを送信します。この後、観戦状態にはいり、サーバは
この対局番号の着手を送ってきます。しかし、これ以前の手順全てが必要なため、こ
れを無視して全ての手順を得るためのコマンドを送ります。これをもらって、現在の
局面を盤上にセットします。

観戦碁盤を閉じると、unobserve コマンドをサーバに送ります。

対局を開始しようとすると、対局番号がわからないので、最初の未知の対局を取り寄
せて対局碁盤を開きます。途中で中断した碁をロードすることもあるので、ステータ
スコマンドの処理（上記観戦の項参照）が終了した後で、現在の局面をロードします。

観戦碁盤とは違って対局碁盤を閉じる時にはコマンドを送りません。

上記処理で問題がおきることがあります。

(a) 対局中に、間違って碁盤を閉じた場合：
 このような時には、一度adjourn して、再開してください。

(b)観戦したいのに対局碁盤が表示された場合：
ネットラグその多が原因で、サーバが着手を送信し続けたりすると、このようなこと
が起こり得ます。このような時は対局を中止することにより、着手は送られて来なく
なります。

(c)観戦碁盤で対局ということも有り得ます。この時は最初からやりなおしてください。